<!DOCTYPE html>
<html lang="en">

<head>
    <!-- <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> -->
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">

    <link rel="stylesheet" href="release/2299052-20230609144904/window-css.css">
    <script src="release/2299052-20230609144904/MOTW/dojoConfig-release-global.js"></script>
    <script src="release/2299052-20230609144904/bundle.window.js"></script>
    <script charset="utf-8" src="release/2299052-20230609144904/bundle.0.js"></script>

</head>

<body>
    <iframe id="iframeCapsule" class="full"
        src="https://mosh-prod-us-east-1.mathworks.com/static/n4fDF5dQ/05b3c9e1-99c8-4614-a62c-a379230d2ae2/try_run.html?snc=XBNYC0&amp;mre=https%3A%2F%2Fmosh-prod-us-east-1.mathworks.com%2F&amp;websocket=on">
        <html>

        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
            <!--
  This HTML was auto-generated from MATLAB code.
  To make changes, update the MATLAB code and republish this document.
        -->
            <title>try_run</title>
            <meta name="generator" content="MATLAB 9.14">
            <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
            <meta name="DC.date" content="2023-07-02">
            <meta name="DC.source" content="try_run.m">
            <style type="text/css">
                html,
                body,
                div,
                span,
                applet,
                object,
                iframe,
                h1,
                h2,
                h3,
                h4,
                h5,
                h6,
                p,
                blockquote,
                pre,
                a,
                abbr,
                acronym,
                address,
                big,
                cite,
                code,
                del,
                dfn,
                em,
                font,
                img,
                ins,
                kbd,
                q,
                s,
                samp,
                small,
                strike,
                strong,
                tt,
                var,
                b,
                u,
                i,
                center,
                dl,
                dt,
                dd,
                ol,
                ul,
                li,
                fieldset,
                form,
                label,
                legend,
                table,
                caption,
                tbody,
                tfoot,
                thead,
                tr,
                th,
                td {
                    margin: 0;
                    padding: 0;
                    border: 0;
                    outline: 0;
                    font-size: 100%;
                    vertical-align: baseline;
                    background: transparent
                }

                body {
                    line-height: 1
                }

                ol,
                ul {
                    list-style: none
                }

                blockquote,
                q {
                    quotes: none
                }

                blockquote:before,
                blockquote:after,
                q:before,
                q:after {
                    content: '';
                    content: none
                }

                :focus {
                    outine: 0
                }

                ins {
                    text-decoration: none
                }

                del {
                    text-decoration: line-through
                }

                table {
                    border-collapse: collapse;
                    border-spacing: 0
                }

                html {
                    min-height: 100%;
                    margin-bottom: 1px;
                }

                html body {
                    height: 100%;
                    margin: 0px;
                    font-family: Arial, Helvetica, sans-serif;
                    font-size: 10px;
                    color: #000;
                    line-height: 140%;
                    background: #fff none;
                    overflow-y: scroll;
                }

                html body td {
                    vertical-align: top;
                    text-align: left;
                }

                h1 {
                    padding: 0px;
                    margin: 0px 0px 25px;
                    font-family: Arial, Helvetica, sans-serif;
                    font-size: 1.5em;
                    color: #d55000;
                    line-height: 100%;
                    font-weight: normal;
                }

                h2 {
                    padding: 0px;
                    margin: 0px 0px 8px;
                    font-family: Arial, Helvetica, sans-serif;
                    font-size: 1.2em;
                    color: #000;
                    font-weight: bold;
                    line-height: 140%;
                    border-bottom: 1px solid #d6d4d4;
                    display: block;
                }

                h3 {
                    padding: 0px;
                    margin: 0px 0px 5px;
                    font-family: Arial, Helvetica, sans-serif;
                    font-size: 1.1em;
                    color: #000;
                    font-weight: bold;
                    line-height: 140%;
                }

                a {
                    color: #005fce;
                    text-decoration: none;
                }

                a:hover {
                    color: #005fce;
                    text-decoration: underline;
                }

                a:visited {
                    color: #004aa0;
                    text-decoration: none;
                }

                p {
                    padding: 0px;
                    margin: 0px 0px 20px;
                }

                img {
                    padding: 0px;
                    margin: 0px 0px 20px;
                    border: none;
                }

                p img,
                pre img,
                tt img,
                li img,
                h1 img,
                h2 img {
                    margin-bottom: 0px;
                }

                ul {
                    padding: 0px;
                    margin: 0px 0px 20px 23px;
                    list-style: square;
                }

                ul li {
                    padding: 0px;
                    margin: 0px 0px 7px 0px;
                }

                ul li ul {
                    padding: 5px 0px 0px;
                    margin: 0px 0px 7px 23px;
                }

                ul li ol li {
                    list-style: decimal;
                }

                ol {
                    padding: 0px;
                    margin: 0px 0px 20px 0px;
                    list-style: decimal;
                }

                ol li {
                    padding: 0px;
                    margin: 0px 0px 7px 23px;
                    list-style-type: decimal;
                }

                ol li ol {
                    padding: 5px 0px 0px;
                    margin: 0px 0px 7px 0px;
                }

                ol li ol li {
                    list-style-type: lower-alpha;
                }

                ol li ul {
                    padding-top: 7px;
                }

                ol li ul li {
                    list-style: square;
                }

                .content {
                    font-size: 1.2em;
                    line-height: 140%;
                    padding: 20px;
                }

                pre,
                code {
                    font-size: 12px;
                }

                tt {
                    font-size: 1.2em;
                }

                pre {
                    margin: 0px 0px 20px;
                }

                pre.codeinput {
                    padding: 10px;
                    border: 1px solid #d3d3d3;
                    background: #f7f7f7;
                }

                pre.codeoutput {
                    padding: 10px 11px;
                    margin: 0px 0px 20px;
                    color: #4c4c4c;
                }

                pre.error {
                    color: red;
                }

                @media print {

                    pre.codeinput,
                    pre.codeoutput {
                        word-wrap: break-word;
                        width: 100%;
                    }
                }

                span.keyword {
                    color: #0000FF
                }

                span.comment {
                    color: #228B22
                }

                span.string {
                    color: #A020F0
                }

                span.untermstring {
                    color: #B20000
                }

                span.syscmd {
                    color: #B28C00
                }

                span.typesection {
                    color: #A0522D
                }

                .footer {
                    width: auto;
                    padding: 10px 0px;
                    margin: 25px 0px 0px;
                    border-top: 1px dotted #878787;
                    font-size: 0.8em;
                    line-height: 140%;
                    font-style: italic;
                    color: #878787;
                    text-align: left;
                    float: none;
                }

                .footer p {
                    margin: 0px;
                }

                .footer a {
                    color: #878787;
                }

                .footer a:hover {
                    color: #878787;
                    text-decoration: underline;
                }

                .footer a:visited {
                    color: #878787;
                }

                table th {
                    padding: 7px 5px;
                    text-align: left;
                    vertical-align: middle;
                    border: 1px solid #d6d4d4;
                    font-weight: bold;
                }

                table td {
                    padding: 7px 5px;
                    text-align: left;
                    vertical-align: top;
                    border: 1px solid #d6d4d4;
                }
            </style>
        </head>

        <body>
            <div class="content">
                <pre class="codeinput">clear <span class="string">all</span>
  close <span class="string">all</span>
  warning <span class="string">off</span>
  [filename,pathname]=uigetfile(<span class="string">'*.*'</span>,<span class="string">'Pick a MATLAB code file'</span>);
  filename=strcat(pathname,filename);
  a=imread(filename);
  imshow(a);
  b=rgb2gray(a);
  figure;
  imshow(b);
  impixelinfo;
  c=b&gt;20;
  figure;
  imshow(c);
  d=imfill(c,<span class="string">'holes'</span>);
  figure;
  imshow(d);
  e=bwareaopen(d,1000);
  figure;
  imshow(e);
  PreprocessedImage=uint8(double(a).*repmat(e,[1 1 3]));
  figure;
  imshow(PreprocessedImage);
  PreprocessedImage=imadjust(PreprocessedImage,[0.3 0.7],[])+50;
  figure;
  imshow(PreprocessedImage);
  uo=rgb2gray(PreprocessedImage);
  figure;
  imshow(uo);
  mo=medfilt2(uo,[5 5]);
  figure;
  imshow(mo);
  po=mo&gt;250;
  figure;
  imshow(po);
  [r c m]=size(po);
  x1=r/2;
  y1=c/3;
  row=[x1 x1+200 x1+200 x1];
  col=[y1 y1 y1+40 y1+40];
  BW=roipoly(po,row,col);
  figure;
  imshow(BW);
  k=po.*double(BW);
  figure;
  imshow(k);
  M=bwareaopen(k,4);
  [ya number]=bwlabel(M);
  <span class="keyword">if</span>(number&gt;=1)
      disp(<span class="string">'Stone is Detected'</span>);
  <span class="keyword">else</span>
      disp(<span class="string">'No Stone is detected'</span>);
  <span class="keyword">end</span>
  </pre>
                <pre class="codeoutput">Stone is Detected
  </pre><img vspace="5" hspace="5" src="try_run_01.png" alt=""> <img vspace="5" hspace="5" src="try_run_02.png" alt="">
                <img vspace="5" hspace="5" src="try_run_03.png" alt=""> <img vspace="5" hspace="5" src="try_run_04.png"
                    alt=""> <img vspace="5" hspace="5" src="try_run_05.png" alt=""> <img vspace="5" hspace="5"
                    src="try_run_06.png" alt=""> <img vspace="5" hspace="5" src="try_run_07.png" alt=""> <img vspace="5"
                    hspace="5" src="try_run_08.png" alt=""> <img vspace="5" hspace="5" src="try_run_09.png" alt=""> <img
                    vspace="5" hspace="5" src="try_run_10.png" alt=""> <img vspace="5" hspace="5" src="try_run_11.png"
                    alt=""> <img vspace="5" hspace="5" src="try_run_12.png" alt="">
                <p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB®
                        R2023a</a><br></p>
            </div><!--
  ##### SOURCE BEGIN #####
  
  clear all
  close all
  warning off
  [filename,pathname]=uigetfile('*.*','Pick a MATLAB code file');
  filename=strcat(pathname,filename);
  a=imread(filename);
  imshow(a);
  b=rgb2gray(a);
  figure;
  imshow(b);
  impixelinfo;
  c=b>20;
  figure;
  imshow(c);
  d=imfill(c,'holes');
  figure;
  imshow(d);
  e=bwareaopen(d,1000);
  figure;
  imshow(e);
  PreprocessedImage=uint8(double(a).*repmat(e,[1 1 3]));
  figure;
  imshow(PreprocessedImage);
  PreprocessedImage=imadjust(PreprocessedImage,[0.3 0.7],[])+50;
  figure;
  imshow(PreprocessedImage);
  uo=rgb2gray(PreprocessedImage);
  figure;
  imshow(uo);
  mo=medfilt2(uo,[5 5]);
  figure;
  imshow(mo);
  po=mo>250;
  figure;
  imshow(po);
  [r c m]=size(po);
  x1=r/2;
  y1=c/3;
  row=[x1 x1+200 x1+200 x1];
  col=[y1 y1 y1+40 y1+40];
  BW=roipoly(po,row,col);
  figure;
  imshow(BW);
  k=po.*double(BW);
  figure;
  imshow(k);
  M=bwareaopen(k,4);
  [ya number]=bwlabel(M);
  if(number>=1)
      disp('Stone is Detected');
  else
      disp('No Stone is detected');
  end
  
  ##### SOURCE END #####
  -->
        </body>

        </html>
    </iframe>
</body>

</html>